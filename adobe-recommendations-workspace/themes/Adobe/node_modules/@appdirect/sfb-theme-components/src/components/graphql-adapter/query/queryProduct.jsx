import { gql } from '@apollo/client';

export const MARKETPLACE_PRODUCT = gql`
    query marketplaceProduct($productId: ID!, $currency: Currency) {
        marketplaceProduct(id: $productId, currency: $currency) {
            id
            name
            externalSource
            editions {
                code
                id
                upstreamAssociations {
                    upstreamAssociationProductName
                    requiresAllOf {
                        requiresAnyOf {
                            id
                            code
                            version
                            product {
                                id
                                name
                                version
                            }
                        }
                    }
                }
                pricing {
                    id
                    pricingPlans {
                        id
                        pricingDuration
                        contract {
                            minimumServiceLength
                        }
                        externalSourcePrices {
                            priceBookDescription 
                            priceBookName
                            priceLevel
                            priceLevelDescription
                            unitFees {
                                unit
                                pricingStrategy
                                priceRanges {
                                    finalPrice
                                    maxUnits
                                    originalPrice
                                    updatedPrice
                                }
                            }
                        }
                    }
                }
            }
        }
    }          
`;
