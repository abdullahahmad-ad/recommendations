import { PROVIDER as VIMEO, getVimeoVideoId, getVimeoThumbnail } from './vimeoHelpers';
import { PROVIDER as YOUTUBE, getYoutubeVideoId, getYoutubeThumbnail } from './youtubeHelpers';

export const getVideoProvider = (url = '') => {
    if (url.includes('youtube') || url.includes('youtu.be')) {
        return YOUTUBE;
    }

    if (url.includes('vimeo')) {
        return VIMEO;
    }

    return null;
};

export const getVideoThumbnail = url => {
    const videoProvider = url && getVideoProvider(url);

    if (videoProvider === YOUTUBE) {
        const videoId = getYoutubeVideoId(url);

        return videoId && getYoutubeThumbnail(videoId);
    }

    if (videoProvider === VIMEO) {
        const videoId = getVimeoVideoId(url);

        return videoId && getVimeoThumbnail(videoId);
    }

    return null;
};
